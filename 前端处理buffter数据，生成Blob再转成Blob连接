<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>36种漂亮的CSS3网页按钮Button样式</title>
<style type="text/css">


</style>
</head>
<body>

        <video class="video" src="" width="600" height="500" controls>

            您的浏览器不支持 video 标签。
        </video>
        <script>
            'use strict'
            window.onload = function (evt) {
                // 获取元素
                let video = document.querySelector('.video')
                const xhr = new XMLHttpRequest()
                xhr.open('post', '/b', true)
                // 请求类型 bufffer
                xhr.responseType = 'arraybuffer'
                xhr.onload = function () {
                    if (xhr.status === 200 || xhr.status === 304) {
                        // 将后台 buffer 转换为 blob
                        /*注意后台buffer被new Int8Array（buffer）处理了
                          也就是 new Int8Array（后台buffer数据）后为 xhr.response
                        */
                        let blob = new Blob([xhr.response], { type: 'video/*' })
                        // 创建blob链接
                        video.src = URL.createObjectURL(blob); //每次创建生成都不一样 URL.revokeObjectURL(blob连接)  blob:https://localhost/86ba5a54-673d-426b-99fe-984e1e49428c
                        console.log(blob)  
                        
                        /*Blob(318465) {size: 318465, type: "video"}
                           size: 318465
                           type: "video"
                          __proto__: Blob*/
                          
                    }
                }
                xhr.send()
            }

        </script>
</body>
</html>


后台：
  b(req,res){
      fs.readFile(__dirname + '../../../1.mp4', function (err, data) {  //data为buffter数据
          if (err) {
              console.log(err.stack);
              return;
          }
          res.write(data); res.end();
      })

  }
